<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News | Tsinghua KEG</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        /* --- 核心变量 --- */
        :root {
            --tsinghua-purple: #660099; 
            --california-gold: #FFD200; 
            --academic-blue: #1a2b5e; 
            --white: #FFFFFF;
            --light-bg: #F9FAFB;
            --text-main: #1d1d1f;
            --font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /* --- 全局重置 --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: var(--font-primary);
            color: var(--text-main);
            line-height: 1.7;
            background-color: var(--white);
            -webkit-font-smoothing: antialiased;
        }
        h2 { font-weight: 800; letter-spacing: -0.03em; color: var(--academic-blue); margin-bottom: 1rem; }
        p { color: #555; font-size: 1.05rem; }
        a { text-decoration: none; transition: all 0.3s ease; }
        ul { list-style: none; }

        /* --- 导航栏 --- */
        .navbar {
            background-color: var(--white);
            box-shadow: 0 1px 0 rgba(0,0,0,0.05);
            position: sticky; top: 0; z-index: 1000; padding: 0 2rem; height: 80px;
            display: flex; align-items: center; justify-content: space-between;
        }
        .navbar-brand {
            font-size: 1.6rem; font-weight: 800; color: #000; letter-spacing: -0.5px;
            display: flex; align-items: center; gap: 12px;
        }
        .navbar-menu { display: flex; gap: 32px; }
        .nav-link {
            color: #1d1d1f; font-weight: 500; font-size: 0.95rem; padding: 5px 0; position: relative;
        }
        .nav-link:hover { color: var(--tsinghua-purple); }
        .nav-link.active { color: var(--tsinghua-purple); font-weight: 700; }
        .nav-link::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0;
            background-color: var(--tsinghua-purple); transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        /* --- Hero --- */
        .news-hero {
            background: linear-gradient(to bottom, rgba(102, 0, 153, 0.1), rgba(50, 0, 80, 0.2)), url('./banner06.jpg');
            background-size: cover; background-position: center bottom; background-repeat: no-repeat;
            height: 600px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: var(--white); padding: 0 2rem; text-align: center;
        }
        .news-title { font-size: 3.5rem; font-weight: 800; margin-bottom: 1.5rem; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .news-subtitle { color: #ffffff; font-size: 1.3rem; opacity: 0.95; font-weight: 300; max-width: 800px; line-height: 1.6; }

        /* --- Layout & Grid --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
        .section-py { padding: 5rem 0; }

        .news-grid {
            display: grid; 
            grid-template-columns: repeat(3, 1fr); /* 强制 3 列 */
            gap: 30px;
        }

        /* --- Filter Bar --- */
        .filter-bar {
            display: flex; justify-content: center; gap: 15px; margin-bottom: 4rem; flex-wrap: wrap;
        }
        .filter-btn {
            padding: 8px 24px; border-radius: 50px; border: 1px solid #e0e0e0;
            background: #fff; color: #666; font-weight: 600; cursor: pointer; transition: all 0.3s;
            user-select: none;
        }
        .filter-btn:hover { border-color: var(--tsinghua-purple); color: var(--tsinghua-purple); }
        .filter-btn.active { background: var(--tsinghua-purple); color: #fff; border-color: var(--tsinghua-purple); }

        /* --- Card Styles (通用样式) --- */
        .news-card {
            background: #fff; border-radius: 12px; overflow: hidden;
            border: 1px solid #f0f0f0; transition: transform 0.3s, box-shadow 0.3s;
            display: flex; flex-direction: column;
        }
        .news-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); }
        
        .card-img-wrap { height: 220px; background: #eee; position: relative; width: 100%; }
        .card-img { width: 100%; height: 100%; object-fit: cover; }
        
        .card-content { padding: 1.5rem 1.8rem; flex: 1; display: flex; flex-direction: column; }
        .news-meta {
            font-size: 0.85rem; font-weight: 700; color: var(--tsinghua-purple); 
            margin-bottom: 1rem; display: flex; gap: 10px; align-items: center;
        }
        .news-date { color: #888; font-weight: 500; }
        .card-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.8rem; line-height: 1.4; color: #000; }
        .card-desc { font-size: 0.95rem; color: #666; margin-bottom: 1.5rem; flex: 1; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;}
        
        .read-more-btn {
            margin-top: auto; display: inline-flex; align-items: center; gap: 8px;
            font-weight: 700; color: var(--tsinghua-purple); cursor: pointer;
        }
        .read-more-btn:hover { text-decoration: underline; }

        /* --- Featured Mode (变身样式) --- */
        .news-card.featured-mode {
            display: grid; grid-template-columns: 1.2fr 1fr; gap: 0;
            min-height: 400px;
            flex-direction: row; border: none; box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            margin-bottom: 4rem; /* 底部留白 */
        }
        .news-card.featured-mode .card-img-wrap { height: 100%; }
        .news-card.featured-mode .card-content { padding: 3rem; justify-content: center; }
        .news-card.featured-mode .card-title { font-size: 2rem; margin-bottom: 1rem; color: var(--academic-blue); }

        /* --- Pagination --- */
        .pagination { display: flex; justify-content: center; gap: 10px; margin-top: 4rem; }
        .page-num {
            width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;
            border-radius: 50%; font-weight: 600; color: #666; cursor: pointer; transition: all 0.2s; text-decoration: none;
        }
        .page-num:hover { background: #f0f0f0; color: #000; }
        .page-num.active { background: var(--academic-blue); color: #fff; }

        /* --- Hidden Source Pool --- */
        #source-pool { display: none; }

        /* --- Responsive --- */
        @media (max-width: 768px) {
            .navbar { flex-direction: column; height: auto; padding: 1.5rem; }
            .navbar-menu { margin-top: 1.5rem; flex-wrap: wrap; justify-content: center; }
            .news-grid { grid-template-columns: 1fr; }
            .news-card.featured-mode { grid-template-columns: 1fr; display: flex; flex-direction: column; }
            .news-card.featured-mode .card-img-wrap { height: 250px; }
            .footer-content { grid-template-columns: 1fr; }
        }

        /* --- Community & Footer --- */
        .community-section { background-color: #660099; color: #ffffff; padding: 4rem 2rem; text-align: center; } 
        .community-container { max-width: 900px; margin: 0 auto; }
        .community-title { color: #ffffff !important; font-size: 2.5rem; font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.02em; }
        .community-desc { color: #ffffff !important; font-size: 1.1rem; line-height: 1.6; opacity: 0.9; margin-bottom: 3rem; max-width: 750px; margin: 0 auto 3rem auto; }
        .community-buttons { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .btn-community {
            padding: 12px 32px; border-radius: 6px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; text-decoration: none;
            background: #FFD200; color: #1a2b5e; border: 1px solid #FFD200; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .btn-community:hover { background: #FFC107; border-color: #FFC107; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.4); }

        footer { background-color: #1a2b5e; color: rgba(255,255,255,0.8); padding: 5rem 2rem 2rem; font-size: 0.95rem; }
        .footer-content { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr; gap: 3rem; margin-bottom: 4rem; }
        .footer-brand h2 { color: #ffffff !important; font-size: 1.8rem; font-weight: 800; margin-bottom: 1rem; }
        .footer-brand p { color: rgba(255, 255, 255, 0.75) !important; line-height: 1.6; margin-top: 1rem; }
        .footer-col h3 { color: var(--white); margin-bottom: 1.5rem; font-size: 0.9rem; font-weight: 700; opacity: 0.9; }
        .footer-col ul li { margin-bottom: 1rem; }
        .footer-col a { color: rgba(255,255,255,0.6); font-weight: 400; }
        .footer-col a:hover { color: var(--california-gold); opacity: 1; }
        .footer-bottom { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem; text-align: center; font-size: 0.85rem; }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="index.html" class="navbar-brand">
            <img src="./keg.png" alt="Logo" style="height: 50px;">
            <span style="color: var(--tsinghua-purple);">Tsinghua KEG</span>
        </a>
        <ul class="navbar-menu">
            <li><a href="index.html" class="nav-link">Home</a></li>
            <li><a href="people.html" class="nav-link">People</a></li> 
            <li><a href="research.html" class="nav-link">Research</a></li>
            <li><a href="publications.html" class="nav-link">Publications</a></li>
            <li><a href="news.html" class="nav-link active">News</a></li>
            <li><a href="events.html" class="nav-link">Events</a></li>
            <li><a href="blog.html" class="nav-link">Blog</a></li>
            <li><a href="contact.html" class="nav-link">Contact</a></li>
            <li><a href="about.html" class="nav-link">About</a></li>
        </ul>
    </nav>

    <header class="news-hero">
        <h1 class="news-title">News @ Tsinghua KEG</h1>
        <p class="news-subtitle">
            Stay updated with the latest breakthroughs, academic activities, and community stories from Tsinghua KEG.
        </p>
    </header>

    <section class="section-py">
        <div class="container">
            
            <div class="filter-bar">
                <div class="filter-btn active" onclick="filterSelection(this, 'all')">All News</div>
                <div class="filter-btn" onclick="filterSelection(this, 'research')">Research</div>
                <div class="filter-btn" onclick="filterSelection(this, 'project')">Project</div>
                <div class="filter-btn" onclick="filterSelection(this, 'awards')">Awards</div>
                <div class="filter-btn" onclick="filterSelection(this, 'community')">Community</div>
            </div>

            <div id="featured-slot"></div>

            <div class="news-grid" id="grid-slot"></div>

            <div class="pagination" id="pagination"></div>

            <div id="source-pool">
                
                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/800x600?text=ChatGLM-4" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Oct 25, 2026</span></div>
                        <h3 class="card-title">ChatGLM-4: Next Gen Multi-Modal Reasoning</h3>
                        <p class="card-desc">We are proud to announce the release of ChatGLM-4 with improved reasoning capabilities.</p>
                        <a href="news-detail.html" class="read-more-btn">Read Full Story <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <div class="news-card" data-category="awards">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=KDD+Award" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Awards</span> <span class="news-date">| Sep 10, 2026</span></div>
                        <h3 class="card-title">Best Paper Award at KDD 2026</h3>
                        <p class="card-desc">Our team's paper on Graph Neural Networks received the Best Paper Award.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="project">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=AGI+Roadmap" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Project</span> <span class="news-date">| Aug 15, 2026</span></div>
                        <h3 class="card-title">Upcoming Seminar: AGI Roadmap</h3>
                        <p class="card-desc">Join us for an open seminar featuring Professor Jie Tang.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=NeurIPS+2026" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jul 20, 2026</span></div>
                        <h3 class="card-title">New Paper on Agentic AI Accepted</h3>
                        <p class="card-desc">Our latest work on autonomous coding agents has been accepted for oral presentation.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="community">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=AMiner" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Community</span> <span class="news-date">| Jun 01, 2026</span></div>
                        <h3 class="card-title">AMiner User Base Exceeds 150 Million</h3>
                        <p class="card-desc">AMiner continues to grow as the premier platform for academic search.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=CodeGeex" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| May 12, 2026</span></div>
                        <h3 class="card-title">Open Sourcing CodeGeex-Pro</h3>
                        <p class="card-desc">We are releasing the weights and training code for CodeGeex-Pro.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="awards">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Fellowship" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Awards</span> <span class="news-date">| Apr 01, 2026</span></div>
                        <h3 class="card-title">PhD Fellowship Award</h3>
                        <p class="card-desc">Congratulations to our student for receiving the prestigious fellowship.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

                <div class="news-card" data-category="research">
                    <div class="card-img-wrap"><img src="https://via.placeholder.com/400x300?text=Older+Research" class="card-img"></div>
                    <div class="card-content">
                        <div class="news-meta"><span>Research</span> <span class="news-date">| Jan 01, 2026</span></div>
                        <h3 class="card-title">Older Research from Page 2</h3>
                        <p class="card-desc">This is the 8th item, so it will be the FEATURED item on page 2.</p>
                        <a href="#" class="read-more-btn">Read More</a>
                    </div>
                </div>

            </div>
            </div>
    </section>

    <section class="community-section">
        <div class="community-container">
            <h2 class="community-title">Join Our Community</h2>
            <p class="community-desc">
                We invite researchers, students, and innovators to collaborate with us.
            </p>
            <div class="community-buttons">
                <a href="subscribe_news.html" class="btn-community">Subscribe to Newsletter</a>
                <a href="https://x.com/thukeg" class="btn-community">Follow KEG on X/Twitter</a>
                <a href="#" class="btn-community">Join Agentic AI Discord</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-brand">
                <h2>Tsinghua KEG</h2>
                <p>Advancing the frontiers of Artificial General Intelligence (AGI) and empowering global academic discovery through AMiner.org.</p>
            </div>
            <div class="footer-col">
                <h3>Explore</h3>
                <ul>
                    <li><a href="people.html">People</a></li>
                    <li><a href="research.html">Research</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="about.html">About Us</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>Connect</h3>
                <ul>
                    <li><a href="#">WeChat</a></li>
                    <li><a href="https://github.com/thudm">GitHub</a></li>
                    <li><a href="https://x.com/thukeg">Twitter / X</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>Contact</h3>
                <ul>
                    <li><a href="mailto:jas2015mine@163.com">Email Us</a></li>
                    <li><a href="https://www.google.com/maps/search/Tsinghua+University+FIT+Building/@40.0005738,116.327666,17z" target="_blank">Location (FIT 1-308)</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Copyright © 2026 Tsinghua KEG; all rights reserved.</p>
        </div>
    </footer>

    <script>
        // --- 核心配置 ---
        const countPage1 = 7;     // 第1页显示的总数 (1个头条 + 6个网格)
        const countPageOther = 6; // 第2页及以后显示的总数 (纯6个网格)
        
        let currentPage = 1;
        let currentCategory = 'all';

        document.addEventListener('DOMContentLoaded', () => {
            render(); // 初始化
        });

        function filterSelection(btn, category) {
            // 按钮变色逻辑
            let btns = document.querySelectorAll(".filter-btn");
            btns.forEach(b => b.classList.remove("active"));
            btn.classList.add("active");

            // 重置状态
            currentCategory = category;
            currentPage = 1; 
            render();
        }

        function render() {
            // 1. 获取所有文章
            const sourceContainer = document.getElementById('source-pool');
            const allItems = Array.from(sourceContainer.children);
            
            // 2. 筛选
            const filteredItems = allItems.filter(item => {
                const itemCat = item.getAttribute('data-category');
                return currentCategory === 'all' || (itemCat && itemCat.includes(currentCategory));
            });

            // 3. 动态计算分页逻辑 (核心修改点)
            let totalItems = filteredItems.length;
            let totalPages = 1;

            if (totalItems > countPage1) {
                // 如果文章数超过第1页的容量，计算剩余需要多少页
                // 剩余文章数 = 总数 - 第1页的7个
                // 剩余页数 = 剩余文章数 / 6 (向上取整)
                let remainingItems = totalItems - countPage1;
                totalPages = 1 + Math.ceil(remainingItems / countPageOther);
            }

            // 4. 计算当前页的数据切片 (Slice)
            let startIndex, endIndex;

            if (currentPage === 1) {
                // 第1页：取 0 到 7
                startIndex = 0;
                endIndex = countPage1;
            } else {
                // 第N页：跳过第1页的7个 + 跳过中间 (N-2) 页的 6个
                startIndex = countPage1 + (currentPage - 2) * countPageOther;
                endIndex = startIndex + countPageOther;
            }
            
            const pageItems = filteredItems.slice(startIndex, endIndex);

            // 5. 填充显示区域
            const featuredSlot = document.getElementById('featured-slot');
            const gridSlot = document.getElementById('grid-slot');
            featuredSlot.innerHTML = '';
            gridSlot.innerHTML = '';

            if (pageItems.length > 0) {
                if (currentPage === 1) {
                    // --- 第1页逻辑：有头条 ---
                    
                    // 第1条 -> 头条区域
                    const featuredItem = pageItems[0].cloneNode(true);
                    featuredItem.classList.add('featured-mode'); 
                    featuredSlot.appendChild(featuredItem);
                    // 显示头条容器
                    featuredSlot.classList.remove('is-hidden');

                    // 剩下的 -> 网格区域
                    for (let i = 1; i < pageItems.length; i++) {
                        const gridItem = pageItems[i].cloneNode(true);
                        gridSlot.appendChild(gridItem);
                    }

                } else {
                    // --- 第2+页逻辑：无头条，全是网格 ---
                    
                    // 隐藏头条容器
                    featuredSlot.classList.add('is-hidden');

                    // 所有数据都放网格 (整整齐齐 6 个)
                    pageItems.forEach(item => {
                        gridSlot.appendChild(item.cloneNode(true));
                    });
                }
            } else {
                // 空数据处理
                featuredSlot.classList.add('is-hidden');
                gridSlot.innerHTML = '<p style="grid-column:1/-1; text-align:center; color:#999; padding:2rem;">No news found in this category.</p>';
            }

            // 6. 生成分页按钮
            renderPagination(totalPages);
        }

        // --- 7. 生成分页按钮 (更新版：带上一页/下一页) ---
        function renderPagination(totalPages) {
            const paginationContainer = document.getElementById('pagination');
            paginationContainer.innerHTML = '';

            if (totalPages <= 1) return; // 只有1页不显示任何按钮

            // 1. 生成 "上一页" (<) 按钮
            // 逻辑：只有当前不是第1页时，才显示上一页
            if (currentPage > 1) {
                const prevBtn = document.createElement('a');
                prevBtn.href = "javascript:void(0)";
                prevBtn.className = "page-num";
                prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>'; // 使用 FontAwesome 图标
                prevBtn.onclick = () => {
                    currentPage--; // 减1
                    render();
                    document.querySelector('.filter-bar').scrollIntoView({ behavior: 'smooth' });
                };
                paginationContainer.appendChild(prevBtn);
            }

            // 2. 生成数字按钮 (1, 2, 3...)
            for (let i = 1; i <= totalPages; i++) {
                const activeClass = (i === currentPage) ? 'active' : '';
                const btn = document.createElement('a');
                btn.href = "javascript:void(0)";
                btn.className = `page-num ${activeClass}`;
                btn.innerText = i;
                btn.onclick = () => {
                    currentPage = i;
                    render();
                    document.querySelector('.filter-bar').scrollIntoView({ behavior: 'smooth' });
                };
                paginationContainer.appendChild(btn);
            }

            // 3. 生成 "下一页" (>) 按钮
            // 逻辑：只有当前不是最后一页时，才显示下一页
            if (currentPage < totalPages) {
                const nextBtn = document.createElement('a');
                nextBtn.href = "javascript:void(0)";
                nextBtn.className = "page-num";
                nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>'; // 使用 FontAwesome 图标
                nextBtn.onclick = () => {
                    currentPage++; // 加1
                    render();
                    document.querySelector('.filter-bar').scrollIntoView({ behavior: 'smooth' });
                };
                paginationContainer.appendChild(nextBtn);
            }
        }
    </script>

</body>
</html>